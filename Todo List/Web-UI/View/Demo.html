
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">

<title>iScroll demo: bounce easing</title>
<link rel="stylesheet" type="text/css" href="../Styles/Demo.css" />
<link rel="stylesheet" type="text/css" href="../Styles/animate.css" />
<!-- <link rel="stylesheet" type="text/css" href="../Styles/Todo.css" /> -->
<script type="text/javascript" src="../Scripts/jquery-1.8.js"></script>
<script type="text/javascript" src="../Scripts/jquery.transit.js"></script>
<script type="text/javascript" src="../Scripts/jquery.wipetouch.js"></script>
<script type="text/javascript" src="../Scripts/iScroll5/iscroll.js"></script>
<script type="text/javascript" src="../Scripts/Todo.js"></script>
<style type="text/css">
li.added {
	-vendor-animation-duration: 3s;
	-vendor-animation-delay: 2s;
	-vendor-animation-iteration-count: infinite;
}
</style>
<script type="text/javascript">
	var myScroll;

	function loaded() {
		myScroll = new IScroll('#wrapper', {
			bounceEasing : 'elastic',
			bounceTime : 1200
		});
		/* myScroll.options.onBeforeScrollEnd = function(){
				alert("as");
				// Code for adding a task-li that appears in the top.
			} */
		
		positionOfFirstTile = $("#scroller").offset().top;
		
		myScroll.on('scrollStart', function() {
			debugger;
			positionOfFirstTile = $("#scroller").offset().top;
			$('#wrapper').on('vmouseup', function(e) {
				alert("Touch Start.");
				e.preventDefault();
			}, false);
		} );
		myScroll.on('scrollEnd', function() {
			debugger;
			if( $("#scroller").offset().top == 61 && positionOfFirstTile == 61 ){
				$('#wrapper').trigger('vmouseup');
				$('#wrapper').off('vmouseup');
				
				/**
				 * Code for the text-box, to enter the Task-name and the description.
				 */
				var newTakHTML = '<li class="task added"><span class="tiles">'+
											'<div class="Name">New Task</div>'+
											'<div class="Description">Description</div>'+
									'</span></li>';
				$("div#scroller ul").prepend(newTakHTML);
// 				$('div#scroller ul li["class!=added"]').transition({ y: '40px' });
				$('div#scroller ul li.added').addClass('animated bounceIn');
				$('div#scroller ul li.added').removeClass('added');
				myScroll.refresh();
				//alert("Touch End.");
			}
		});
	}

</script>

</head>
<body onload="loaded()">
	<div id="header">Todo List</div>

	<div id="wrapper">
		<div id="scroller">
			<ul>
				<li class="task"><span class="tiles">
						<div class="Name">Task 1</div>
						<div class="Description">This is the description of Task 1
							and its overflowing.</div>
				</span></li>
				<li class="task"><span class="tiles">
						<div class="Name">Task A</div>
						<div class="Description">This is the description of Task 1
							and its overflowing.</div>
				</span></li>
				<li class="task"><span class="tiles">
						<div class="Name">Task A</div>
						<div class="Description">This is the description of Task 1
							and its overflowing.</div>
				</span></li>
				<li class="task"><span class="tiles">
						<div class="Name">Task A</div>
						<div class="Description">This is the description of Task 1
							and its overflowing.</div>
				</span></li>
				<li class="task"><span class="tiles">
						<div class="Name">Task A</div>
						<div class="Description">This is the description of Task 1
							and its overflowing.</div>
				</span></li>
				<li class="task"><span class="tiles">
						<div class="Name">Task A</div>
						<div class="Description">This is the description of Task 1
							and its overflowing.</div>
				</span></li>
				<li class="task"><span class="tiles">
						<div class="Name">Task A</div>
						<div class="Description">This is the description of Task 1
							and its overflowing.</div>
				</span></li>
				<li class="task"><span class="tiles">
						<div class="Name">Task A</div>
						<div class="Description">This is the description of Task 1
							and its overflowing.</div>
				</span></li>
				<li class="task"><span class="tiles">
						<div class="Name">Task A</div>
						<div class="Description">This is the description of Task 1
							and its overflowing.</div>
				</span></li>
				<li class="task"><span class="tiles">
						<div class="Name">Task A</div>
						<div class="Description">This is the description of Task 1
							and its overflowing.</div>
				</span></li>

			</ul>
		</div>
	</div>

	<!-- <div id="footer"></div> -->

</body>
</html>